{% extends 'nav.html' %}

{% block title %}Your CSR Events{% endblock %}

{% block varbody %}
<div class="container mt-5">
  <h2 class="text-light mb-4">CSR Events Created by You</h2>

  <!-- Back to Dashboard Button -->
  <div class="text-end mb-3">
    <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">
      ← Back to Admin Dashboard
    </a>
  </div>

  <!-- Messages -->
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}

  <!-- Event List -->
  {% if events %}
    <ul class="list-group">
      {% for event in events %}
        <li class="list-group-item bg-dark text-light d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ event.title }}</strong><br>
            {{ event.description }}<br>
            📍 {{ event.location }} | 📅 {{ event.date }}
          </div>
          <div>
            <a href="{% url 'edit_event' event.id %}" class="btn btn-sm btn-warning">Edit</a>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-warning">No events created yet.</p>
  {% endif %}

</div>
{% endblock %}
